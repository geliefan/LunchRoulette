<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="æ±äº¬ã‚¨ãƒªã‚¢ã®ãƒ©ãƒ³ãƒã‚¹ãƒãƒƒãƒˆç™ºè¦‹ã‚µãƒ¼ãƒ“ã‚¹ - å¤©æ°—æƒ…å ±ã¨ä½ç½®æƒ…å ±ã‚’æ´»ç”¨ã—ãŸãƒ¬ã‚¹ãƒˆãƒ©ãƒ³æ¨è–¦">
    <meta name="keywords" content="ãƒ©ãƒ³ãƒ,ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³,æ±äº¬,å¤©æ°—,ã‚°ãƒ«ãƒ¡">
    <title>Lunch Roulette - ä»Šæ—¥ã®ãƒ©ãƒ³ãƒã¯ã“ã“ã§æ±ºã¾ã‚Šï¼</title>

    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Lunch Roulette - ä»Šæ—¥ã®ãƒ©ãƒ³ãƒã¯ã“ã“ã§æ±ºã¾ã‚Šï¼">
    <meta property="og:description" content="æ±äº¬ã‚¨ãƒªã‚¢ã®ãƒ©ãƒ³ãƒã‚¹ãƒãƒƒãƒˆç™ºè¦‹ã‚µãƒ¼ãƒ“ã‚¹">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.url }}">
</head>
<body>
    <!-- ãƒ¡ã‚¤ãƒ³ãƒ©ãƒ³ãƒã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="container">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <header class="header">
            <h1 class="app-title">
                <span class="title-icon">ğŸ¯</span>
                Lunch Roulette
            </h1>
            <p class="app-subtitle">ä»Šæ—¥ã®ãƒ©ãƒ³ãƒã¯ã“ã“ã§æ±ºã¾ã‚Šï¼</p>
        </header>

        <!-- ä½ç½®æƒ…å ±ãƒ»å¤©æ°—æƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <section class="info-section">
            <!-- ä½ç½®æƒ…å ±ã‚«ãƒ¼ãƒ‰ -->
            <div class="info-card location-card">
                <div class="card-header">
                    <span class="card-icon">ğŸ“</span>
                    <h2 class="card-title">ç¾åœ¨åœ°</h2>
                    {% if is_default_location %}
                    <span class="default-badge">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</span>
                    {% endif %}
                </div>
                <div class="card-content">
                    <p class="location-text">
                        <span class="city">{{ location.city }}</span>
                        <span class="region">{{ location.region }}</span>
                    </p>
                    <p class="coordinates">
                        {{ "%.4f"|format(location.latitude) }}, {{ "%.4f"|format(location.longitude) }}
                    </p>
                </div>
            </div>

            <!-- å¤©æ°—æƒ…å ±ã‚«ãƒ¼ãƒE-->
            <div class="info-card weather-card">
                <div class="card-header">
                    <span class="card-icon">ğŸŒ¤ï¸</span>
                    <h2 class="card-title">ä»Šæ—¥ã®å¤©æ°—</h2>
                    {% if is_default_weather %}
                    <span class="default-badge">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</span>
                    {% endif %}
                </div>
                <div class="card-content">
                    <div class="weather-main">
                        <img src="{{ weather_icon_url }}" alt="{{ weather.description }}" class="weather-icon">
                        <div class="weather-info">
                            <p class="temperature">{{ weather.temperature|round(1) }}Â°C</p>
                            <p class="description">{{ weather.description }}</p>
                        </div>
                    </div>
                    <div class="weather-details">
                        <div class="weather-detail">
                            <span class="detail-label">UVæŒ‡æ•°</span>
                            <span class="detail-value">{{ weather.uv_index|round(1) }}</span>
                        </div>
                        <div class="weather-status">
                            {% if is_good_walking_weather %}
                            <span class="status-good">ğŸš¶â€â™‚ï¸ æ•£æ­©æ—¥å’Œ</span>
                            {% else %}
                            <span class="status-caution">âš ï¸ å¤©æ°—æ³¨æ„</span>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <section class="roulette-section">
            <div class="roulette-container">
                <h2 class="section-title">ãƒ©ãƒ³ãƒãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆ</h2>
                <p class="section-description">
                    åŠå¾„200mä»¥å†…ã®ãƒ©ãƒ³ãƒã‚¹ãƒãƒƒãƒˆã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«é¸ã³ã¾ã™
                </p>

                <!-- ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆãƒœã‚¿ãƒ³ -->
                <button id="roulette-btn" class="roulette-btn" type="button">
                    <span class="btn-icon">ğŸ²</span>
                    <span class="btn-text">ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚’å›ã™</span>
                    <span class="btn-loading" style="display: none;">
                        <span class="spinner"></span>
                        æ¤œç´¢ä¸­...
                    </span>
                </button>

                <!-- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
                <div id="error-message" class="error-message" style="display: none;">
                    <span class="error-icon">âš ï¸</span>
                    <span class="error-text"></span>
                </div>
            </div>
        </section>

        <!-- ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã‚«ãƒ¼ãƒ‰è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
        <section class="restaurant-section" id="restaurant-section" style="display: none;">
            <div class="restaurant-card" id="restaurant-card">
                <!-- ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³æƒ…å ±ãŒJavaScriptã§å‹•çš„ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
                <div class="card-header">
                    <h3 class="restaurant-name" id="restaurant-name"></h3>
                    <span class="restaurant-genre" id="restaurant-genre"></span>
                </div>
                
                <div class="card-image">
                    <img id="restaurant-image" src="" alt="ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ç”»åƒ" class="restaurant-photo">
                    <div class="image-overlay">
                        <span class="distance-badge" id="distance-badge"></span>
                    </div>
                </div>
                
                <div class="card-content">
                    <div class="restaurant-info">
                        <div class="info-row">
                            <span class="info-label">ğŸ“ ä½æ‰€</span>
                            <span class="info-value" id="restaurant-address"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ğŸ’° äºˆç®—</span>
                            <span class="info-value" id="restaurant-budget"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ğŸš¶â€â™‚ï¸ å¾’æ­©</span>
                            <span class="info-value" id="walking-time"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ğŸ•’ å–¶æ¥­æ™‚é–“</span>
                            <span class="info-value" id="restaurant-hours"></span>
                        </div>
                    </div>
                    
                    <div class="restaurant-description">
                        <p id="restaurant-catch"></p>
                    </div>
                    
                    <div class="action-buttons">
                        <a id="map-link" href="#" target="_blank" class="btn btn-primary">
                            <span class="btn-icon">ğŸ—ºï¸</span>
                            åœ°å›³ã§è¦‹ã‚‹
                        </a>
                        <a id="hotpepper-link" href="#" target="_blank" class="btn btn-secondary">
                            <span class="btn-icon">ğŸ”—</span>
                            è©³ç´°ã‚’è¦‹ã‚‹
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- å†ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆãƒœã‚¿ãƒ³ -->
            <div class="retry-section">
                <button id="retry-btn" class="retry-btn" type="button">
                    <span class="btn-icon">ğŸ”„</span>
                    ã‚‚ã†ä¸€åº¦å›ã™
                </button>
            </div>
        </section>

        <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
        <footer class="footer">
            <div class="footer-content">
                <p class="footer-text">
                    Powered by 
                    <a href="https://webservice.recruit.co.jp/hotpepper/" target="_blank" rel="noopener">Hot Pepper Gourmet API</a>
                    & 
                    <a href="https://openweathermap.org/" target="_blank" rel="noopener">OpenWeatherMap API</a>
                </p>
                <p class="footer-note">
                    â€» ä½ç½®æƒ…å ±ã¯IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰æ¨å®šã•ã‚Œã¾ã™ã€‚å®Ÿéš›ã®ä½ç½®ã¨ç•°ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚
                </p>
            </div>
        </footer>
    </div>

    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>