<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="譚ｱ莠ｬ繧ｨ繝ｪ繧｢縺ｮ繝ｩ繝ｳ繝√せ繝昴ャ繝育匱隕九し繝ｼ繝薙せ - 螟ｩ豌玲ュ蝣ｱ縺ｨ菴咲ｽｮ諠・ｱ繧呈ｴｻ逕ｨ縺励◆繝ｬ繧ｹ繝医Λ繝ｳ謗ｨ阮ｦ">
    <meta name="keywords" content="繝ｩ繝ｳ繝・繝ｬ繧ｹ繝医Λ繝ｳ,譚ｱ莠ｬ,螟ｩ豌・繧ｰ繝ｫ繝｡">
    <title>Lunch Roulette - 莉頑律縺ｮ繝ｩ繝ｳ繝√・縺薙％縺ｧ豎ｺ縺ｾ繧奇ｼ・/title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Lunch Roulette - 莉頑律縺ｮ繝ｩ繝ｳ繝√・縺薙％縺ｧ豎ｺ縺ｾ繧奇ｼ・>
    <meta property="og:description" content="譚ｱ莠ｬ繧ｨ繝ｪ繧｢縺ｮ繝ｩ繝ｳ繝√せ繝昴ャ繝育匱隕九し繝ｼ繝薙せ">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.url }}">
</head>
<body>
    <!-- 繝｡繧､繝ｳ繧ｳ繝ｳ繝・リ -->
    <div class="container">
        <!-- 繝倥ャ繝繝ｼ繧ｻ繧ｯ繧ｷ繝ｧ繝ｳ -->
        <header class="header">
            <h1 class="app-title">
                <span class="title-icon">沁ｯ</span>
                Lunch Roulette
            </h1>
            <p class="app-subtitle">莉頑律縺ｮ繝ｩ繝ｳ繝√・縺薙％縺ｧ豎ｺ縺ｾ繧奇ｼ・/p>
        </header>

        <!-- 菴咲ｽｮ諠・ｱ繝ｻ螟ｩ豌玲ュ蝣ｱ繧ｻ繧ｯ繧ｷ繝ｧ繝ｳ -->
        <section class="info-section">
            <!-- 菴咲ｽｮ諠・ｱ繧ｫ繝ｼ繝・-->
            <div class="info-card location-card">
                <div class="card-header">
                    <span class="card-icon">沒</span>
                    <h2 class="card-title">迴ｾ蝨ｨ蝨ｰ</h2>
                    {% if is_default_location %}
                    <span class="default-badge">繝・ヵ繧ｩ繝ｫ繝・/span>
                    {% endif %}
                </div>
                <div class="card-content">
                    <p class="location-text">
                        <span class="city">{{ location.city }}</span>
                        <span class="region">{{ location.region }}</span>
                    </p>
                    <p class="coordinates">
                        {{ "%.4f"|format(location.latitude) }}, {{ "%.4f"|format(location.longitude) }}
                    </p>
                </div>
            </div>

            <!-- 螟ｩ豌玲ュ蝣ｱ繧ｫ繝ｼ繝・-->
            <div class="info-card weather-card">
                <div class="card-header">
                    <span class="card-icon">沍､・・/span>
                    <h2 class="card-title">莉頑律縺ｮ螟ｩ豌・/h2>
                    {% if is_default_weather %}
                    <span class="default-badge">繝・ヵ繧ｩ繝ｫ繝・/span>
                    {% endif %}
                </div>
                <div class="card-content">
                    <div class="weather-main">
                        <img src="{{ weather_icon_url }}" alt="{{ weather.description }}" class="weather-icon">
                        <div class="weather-info">
                            <p class="temperature">{{ weather.temperature|round(1) }}ﾂｰC</p>
                            <p class="description">{{ weather.description }}</p>
                        </div>
                    </div>
                    <div class="weather-details">
                        <div class="weather-detail">
                            <span class="detail-label">UV謖・焚</span>
                            <span class="detail-value">{{ weather.uv_index|round(1) }}</span>
                        </div>
                        <div class="weather-status">
                            {% if is_good_walking_weather %}
                            <span class="status-good">泅ｶ窶坂凾・・謨｣豁ｩ譌･蜥・/span>
                            {% else %}
                            <span class="status-caution">笞・・螟ｩ豌玲ｳｨ諢・/span>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 繝ｫ繝ｼ繝ｬ繝・ヨ繧ｻ繧ｯ繧ｷ繝ｧ繝ｳ -->
        <section class="roulette-section">
            <div class="roulette-container">
                <h2 class="section-title">繝ｩ繝ｳ繝√Ν繝ｼ繝ｬ繝・ヨ</h2>
                <p class="section-description">
                    蜊雁ｾ・km莉･蜀・∽ｺ育ｮ・,200蜀・ｻ･荳九・繝ｩ繝ｳ繝√せ繝昴ャ繝医ｒ繝ｩ繝ｳ繝繝縺ｫ驕ｸ縺ｳ縺ｾ縺・
                </p>
                
                <!-- 繝ｫ繝ｼ繝ｬ繝・ヨ繝懊ち繝ｳ -->
                <button id="roulette-btn" class="roulette-btn" type="button">
                    <span class="btn-icon">沁ｲ</span>
                    <span class="btn-text">繝ｫ繝ｼ繝ｬ繝・ヨ繧貞屓縺・/span>
                    <span class="btn-loading" style="display: none;">
                        <span class="spinner"></span>
                        讀懃ｴ｢荳ｭ...
                    </span>
                </button>
                
                <!-- 繧ｨ繝ｩ繝ｼ繝｡繝・そ繝ｼ繧ｸ陦ｨ遉ｺ繧ｨ繝ｪ繧｢ -->
                <div id="error-message" class="error-message" style="display: none;">
                    <span class="error-icon">笞・・/span>
                    <span class="error-text"></span>
                </div>
            </div>
        </section>

        <!-- 繝ｬ繧ｹ繝医Λ繝ｳ繧ｫ繝ｼ繝芽｡ｨ遉ｺ繧ｨ繝ｪ繧｢ -->
        <section class="restaurant-section" id="restaurant-section" style="display: none;">
            <div class="restaurant-card" id="restaurant-card">
                <!-- 繝ｬ繧ｹ繝医Λ繝ｳ諠・ｱ縺繰avaScript縺ｧ蜍慕噪縺ｫ謖ｿ蜈･縺輔ｌ繧・-->
                <div class="card-header">
                    <h3 class="restaurant-name" id="restaurant-name"></h3>
                    <span class="restaurant-genre" id="restaurant-genre"></span>
                </div>
                
                <div class="card-image">
                    <img id="restaurant-image" src="" alt="繝ｬ繧ｹ繝医Λ繝ｳ逕ｻ蜒・ class="restaurant-photo">
                    <div class="image-overlay">
                        <span class="distance-badge" id="distance-badge"></span>
                    </div>
                </div>
                
                <div class="card-content">
                    <div class="restaurant-info">
                        <div class="info-row">
                            <span class="info-label">沒 菴乗園</span>
                            <span class="info-value" id="restaurant-address"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">汳ｰ 莠育ｮ・/span>
                            <span class="info-value" id="restaurant-budget"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">泅ｶ窶坂凾・・蠕呈ｭｩ</span>
                            <span class="info-value" id="walking-time"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">泄 蝟ｶ讌ｭ譎る俣</span>
                            <span class="info-value" id="restaurant-hours"></span>
                        </div>
                    </div>
                    
                    <div class="restaurant-description">
                        <p id="restaurant-catch"></p>
                    </div>
                    
                    <div class="action-buttons">
                        <a id="map-link" href="#" target="_blank" class="btn btn-primary">
                            <span class="btn-icon">泓ｺ・・/span>
                            蝨ｰ蝗ｳ縺ｧ隕九ｋ
                        </a>
                        <a id="hotpepper-link" href="#" target="_blank" class="btn btn-secondary">
                            <span class="btn-icon">沐</span>
                            隧ｳ邏ｰ繧定ｦ九ｋ
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- 蜀阪Ν繝ｼ繝ｬ繝・ヨ繝懊ち繝ｳ -->
            <div class="retry-section">
                <button id="retry-btn" class="retry-btn" type="button">
                    <span class="btn-icon">沐</span>
                    繧ゅ≧荳蠎ｦ蝗槭☆
                </button>
            </div>
        </section>

        <!-- 繝輔ャ繧ｿ繝ｼ -->
        <footer class="footer">
            <div class="footer-content">
                <p class="footer-text">
                    Powered by 
                    <a href="https://webservice.recruit.co.jp/hotpepper/" target="_blank" rel="noopener">Hot Pepper Gourmet API</a>
                    & 
                    <a href="https://openweathermap.org/" target="_blank" rel="noopener">OpenWeatherMap API</a>
                </p>
                <p class="footer-note">
                    窶ｻ 菴咲ｽｮ諠・ｱ縺ｯIP繧｢繝峨Ξ繧ｹ縺九ｉ謗ｨ螳壹＆繧後∪縺吶ょｮ滄圀縺ｮ菴咲ｽｮ縺ｨ逡ｰ縺ｪ繧句ｴ蜷医′縺ゅｊ縺ｾ縺吶・
                </p>
            </div>
        </footer>
    </div>

    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>